w ≥ e; b @ w ⊢ b@w              a@w ⊢ a@w
---------------------------    ------------
w ≥ e; □ b @e, a@w ⊢ b @w       a@w ⊢ ◊a@e
--------------------------------------------
w ≥ e; (◊ a => □ b) @e, a@w ⊢ b @w
------------------------------
w ≥ e; (◊ a => □ b) @e ⊢ (a => b) @w
------------------------------
(◊ a => □ b) @e ⊢ □ (a => b) @e
-------------------------------
(◊ a => □ b) => □ (a => b) @e


l1: ↑ b
l2: a => l1
l3: □ l2
l4: ↑ l3
l5: □ l1
l6: ↑ l5
l7: ◊ a
l8: ↓ l7
l9: l8 => l6
l10: l9 => l4

l1(w): ∀ϕ m.↓(b(w) => h(w,ϕ,m)) => h(w,ϕ,m)
l2(w): a(w) => l1(w)
l3(w): ↓∀v≥w. l2(v)
l4(w): ∀ϕ m.↓(l3(w) => h(w,ϕ,m)) => h(w,ϕ,m)
l5(w): ↓∀v≥w. l1(v)
l6(w): ∀ϕ m.↓(l5(w) => h(w,ϕ,m)) => h(w,ϕ,m)
l7(w): ∀ϕ.↓(∀v≥w. a(v) => h(v,ϕ,*)) => h(w,ϕ,⋆)
l8(w): ↓ l7(w)
l9(w): l8(w) => l6(w)
l10(w): ↓ l9(w)
l11(w): l10(w) => l4(w)



a(v1), b(v2) ⊢ h(v2,ϕ3,m3))
-------------------------------------------------------------------------[φ3,m3]
v2 ≥ e; a(v1), ↓(b(v2) => h(v2,ϕ3,m3)) => h(v2,ϕ3,m3) ⊢ h(v2,ϕ3,m3)
-------------------------------------------------------------------------[φ3,m3]
a(v1) ⊢ l5(e)
--------------------------------------------------
↓(l5(e) => h(e,ϕ,m)) => h(e,ϕ,m), a(v1) ⊢ b(v1)
------------------------------------------------------
v1≥e; l6(e), a(v1) ⊢ b(v1)      v1≥e; a(v1), ∀v≥e. a(e) => h(e,ϕ3,*) ⊢ h(e,ϕ3,*)
-------------------------------------------------------------------------------[φ3]
v1≥e; l9(e), a(v1) ⊢ b(v1)
-------------------------------------------------------*
v1≥e; l9(e), a(v1), b(v1) => h(v1,ϕ2,m2) ⊢ h(v1,ϕ2,m2)
-------------------------------------------------------[v1,φ2,m2]
l9(e) ⊢ l3(e)
------------------------------------------*
l9(e), l3(e) => h(e,φ1,m1) ⊢ h(e,φ1,m1)
------------------------------------------[φ1,m1]
l9(e) ⊢ l4(e)
--------------
l10(e) ⊢ l4(e)
--------------
⊢ l11(e)



-------------------------------------------------------*
v1≥e; l9(e), a(v1), b(v1) => h(v1,ϕ2,m2) ⊢ h(v1,ϕ2,m2)
-------------------------------------------------------[v1,φ2,m2]
l9(e) ⊢ l3(e)
------------------------------------------*
l9(e), l3(e) => h(e,φ1,m1) ⊢ h(e,φ1,m1)
------------------------------------------[φ1,m1]
l9(e) ⊢ l4(e)
--------------
l10(e) ⊢ l4(e)
--------------
⊢ l11(e)






                                                     (must focus on left, as right obviously fails, but you can't because the m's don't match)
                                                     --------------------------------------------------------------------------
                                                     l3(e) => h(e,φ1,m1), ∀v≥w. a(v) => h(v,ϕ1,*) ⊢ h(e,ϕ1,*)
--------------------------------------               ---------------------------------------------------------[φ1]
l6(e), l3(e) => h(e,φ1,m1) ⊢ h(e,φ1,m1)                       l3(e) => h(e,φ1,m1) ⊢ l8(e)
--------------------------------------------------------------------------------------------*
l9(e), l3(e) => h(e,φ1,m1) ⊢ h(e,φ1,m1)
------------------------------------------[φ1,m1]
l9(e) ⊢ l4(e)
--------------
l10(e) ⊢ l4(e)
--------------
⊢ l11(e)


↓ (↓ ◊ a => ↑ □ ↑ b) => ↑ □ (a => ↑ b)


---------------------------
(◊ a => □ b) ⊢ □ (a => b)





Δ ; · ⊢ A true
-----------------
Δ ; Γ ⊢ □ A true


Δ, N valid ; Γ ⊢ γ
---------------------
Δ ; Γ, □ N true ⊢ γ


Δ,v≥w ; · ⊢ N(v) true
------------------------[v]
Δ ; Γ ⊢ [↓ ∀v≥w. N(w)]


%%% ◊ rules

----------------------
[h(w,ϕ,⋆)] ⊢ h(w,ϕ,⋆)      v≥w; P(v) ⊢ h(v,ϕ,⋆)
------------------------------------------------------[v]
[↓(∀v≥w.P(v) -> h(v,ϕ,⋆)) -> h(w.ϕ,⋆)] ⊢ γ
----------------------------------------------
[∀ϕ.↓(∀v≥w.P(v)→h(v,ϕ,⋆)) -> h(w,ϕ,⋆)] ⊢ γ


v≥w; P(v) ⊢ h(v,φ,⋆)
----------------------[v]
   ◊P(w) ⊢ h(w,φ,⋆)

ψ ; P(v) ⊢ h(v,φ,⋆)
-------------------------------[v]
∀v.v≥w ⊃ ψ ; ◊P(w) ⊢ h(w,φ,⋆)


   ∀v≥w.P(v) ⊃ h(v,ϕ,⋆) ⊢ h(w,ϕ,⋆)
--------------------------------------[φ]
          ⊢ ◊ P(w)




 P ⊢
---------
[↑ P] ⊢

-------------------
  [h(wϕm)] ⊢ h(wϕm)       P(w) ⊢ h(wϕm)
----------------------------------------
  [↓(Pw→h(wϕm)) -> h(wϕm)] ⊢ h(wϕm)
------------------------------------
[∀ϕm.↓(Pw→h(wϕm)) -> h(wϕm)] ⊢ h(wϕm)


  P ⊢ γ
-------------
(↑P)(w) ⊢ γ


-----------------    ------------------
[h(wϕm)] ⊢ h(wϕm)    a(w,φ)  ⊢ [a(w,φ)]
---------------------------------------
[a+(wϕ) -> h(wϕm)] ⊢ h(wϕm)
--------------------------------
[∀ϕm.a+(wϕ) -> h(wϕm)] ⊢ h(wϕm)

----------------
a(w,φ) ⊢ h(wφm)

------------
[a-] ⊢ a-



Th: ⊢ A iff ⊢ tr(A)
